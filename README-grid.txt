# 格子について

配信資料に関する技術情報第３９８号によれば、
```
    データ(降水強度)は、指定された格子間隔を持った該当する長方格子
    の中の代表値であり、格子の中心の緯度・経度が格子点の緯度・経度とし
    て指定されています(つまり、データは格子点値ではなく、その緯度経度を
    中心とした格子の代表値であるということ)。
```
とあります。

実際のデータに含まれる、格子間隔は、２種類あります。

 * 250m の場合  3125 x 2083 (10^-6度)
 * 1km の場合  12500 x 8333

250m の場合は、160 x 160 格子、1km の場合は 40 x 40 格子をひとつのまとまりとして、第３節〜第７節を構成する。

1km 格子の、四隅の緯度経度の例

    +----------------+ 45662500
    |                |    |
    |                |   325000
    |                |     => 8333 * 39
    |                |    |
    +----------------+ 45337500
140006250       140493750 
    |-- 487500     --|
          => 12500 * 39



250m 格子の例

    +----------------+ 45665625, 
    |                |    |
    |                |   331250
    |                |     => 2083 * 159
    |                |    |
    +----------------+ 45334375, 
140501563,       140998438
    |-- 496875     --|
          => 3125 * 159


この例の上辺をみると、

    1km  45662500
    250m 45665625 = 45662500 + 3125

    1km の場合                                   250m の場合

　　　　+-------------- 上辺 45666666          +--+ <- 上辺 45666666
        |                                      |  | <- 中心 45665625
        |               (8333/2)               +--+       (2083/2)
        |      + 中心 45662500
        |
        |
        +-------------+

となっているので、ヘッダーに記述されている緯度経度の値は、端点の格子の中心であることがわかる。


info.txt に保存する際は、利便性のため、格子中心ではなく、格子全体の上下左右端を計算しなおしている（格子半分のサイズを加算している）


